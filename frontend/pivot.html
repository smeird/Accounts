<!DOCTYPE html>
<!-- Interactive pivot table analysis -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pivot Analysis</title>
    <script>
        window.tailwind = window.tailwind || {};
        window.tailwind.config = { darkMode: "class" };
    </script>

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="stylesheet" href="https://unpkg.com/tabulator-tables@6.3.0/dist/css/tabulator_simple.min.css">

</head>
<body class="bg-gradient-to-b from-indigo-50 to-white font-sans dark:from-gray-900 dark:to-gray-800 dark:text-gray-100">
    <div class="flex min-h-screen">
        <nav id="menu" class="hidden md:flex md:flex-col w-64 flex-shrink-0 bg-white border-r p-6 overflow-y-auto dark:bg-gray-800 dark:border-gray-700"></nav>
        <main class="flex-1 min-w-0 overflow-x-auto p-6 space-y-6">
            <h1 class="text-2xl font-semibold mb-4 text-indigo-700">Pivot Analysis</h1>
            <p class="mb-4">Explore transactions using a flexible pivot table. Choose a year or analyse all recorded data.</p>
            <section class="space-y-4">
                <div class="flex flex-col md:flex-row md:items-end md:space-x-4 space-y-4 md:space-y-0">
                    <div class="flex flex-col">
                        <label for="year-select" class="font-semibold">Year</label>
                        <select id="year-select" class="border p-2 rounded" data-help="Select the year to analyse or view all years">
                            <option value="all">All Years</option>
                        </select>
                    </div>

                    <div class="flex space-x-2">
                        <button id="refresh" class="bg-indigo-600 text-white px-4 py-2 rounded"><i class="fas fa-rotate inline w-4 h-4 mr-2"></i>Refresh</button>
                        <button id="export" class="bg-green-600 text-white px-4 py-2 rounded"><i class="fas fa-file-export inline w-4 h-4 mr-2"></i>Export CSV</button>
                    </div>

                </div>
                <div id="pivot-table" class="h-[80vh]"></div>

            </section>

            <section id="detail-card" class="hidden bg-white p-6 rounded shadow border border-gray-400 space-y-4 dark:bg-gray-800 dark:border-gray-700">

                <div class="flex justify-between items-center">
                    <h2 id="detail-title" class="text-xl font-semibold text-indigo-700"></h2>
                    <button id="detail-close" class="text-gray-500 hover:text-gray-700"><i class="fas fa-times"></i></button>
                </div>
                <div id="detail-table" class="h-96"></div>
            </section>
        </main>
    </div>
    <script src="js/menu.js"></script>
    <script src="js/input_help.js"></script>
    <script src="js/overlay.js"></script>

    <script src="https://unpkg.com/tabulator-tables@6.3.0/dist/js/tabulator.min.js"></script>
    <script src="js/tabulator-tailwind.js"></script>

    <script src="js/pivot.js"></script>
</body>
</html>
